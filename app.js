const { createBot, createProvider, createFlow, addKeyword } = require('@bot-whatsapp/bot')

const QRPortalWeb = require('@bot-whatsapp/portal')
const BaileysProvider = require('@bot-whatsapp/provider/baileys')
const MockAdapter = require('@bot-whatsapp/database/mock')


/////////////////////////////////////////////////////////////////////////////////////////////////////////////

const TSPflujoSeis = addKeyword('6')
.addAnswer(
    [
        'üì¥ Has apagado el *Bot*. üëãüèº',
        '',
        'üïú *Horario de Atenci√≥n al Cliente*:',
            '',
            '*Lun. a Vie.*: 10:00am - 7:00pm',
            '*Sab.*: 10:00am - 3:00pm.',
            '*Dom.*: No Laborables.',
        '',
        'Si est√°s en Horario de Atenci√≥n, en breve ser√°s atendido por un *Representante de Ventas*. Mientras tanto por favor ind√≠canos tu *Nombre* y tu *Correo Electr√≥nico*.',
        '',
        'Si deseas *‚úÖ volver a activar el Chatbot*, env√≠a la palabra *"Chatbot"*.'],

        {delay:2000},
        
        )

/////////////////////////////////////////////////////////////////////////////////////////////////////////////

const TSPflujoCinco = addKeyword('5')
.addAnswer(
    [
    '*CONTACTOS*',
    '',
    '*Direcci√≥n:*',
    'üìç Av. Inca Garcilaso de la Vega (Wilson), Tienda N¬∞148, Nivel 2B, Lima - Per√∫ (Centro Comercial Cyber Plaza).',
    '',
    '*Tel√©fonos:*',
    '‚òéÔ∏è (01) 399-6684',
    'üì± 983428926 / 945035320 / 995228441',
    '',
    '*Email:*',
    'üìß ventas@topsecurityperu.com',
    '',
    '*P√°gina Web:*',
    'üñ±Ô∏è www.topsecurityperu.com',
    '',
    '*CUENTAS BANCARIAS*',
    '',
    '*Yape:* 945035320',
    '*Plin:* 945035320',
    '',
    '*Banco:* BCP',
    '*Titular:* OPTIMAX SRL',
    'Cuenta Corriente en Soles',
    '191-1748-449099',
    '*CCI:* 00219100174844909954',
    '',
    'Env√≠a la palabra *"Men√∫"* para ‚è™ *Volver al Men√∫ Principal*.'], {delay:2000,capture:true},

    (ctx, {gotoFlow}) => {

        if(ctx.body.includes(['Menu','Men√∫'])) {
            return gotoFlow(TSPflujoBot)
        }

        if(!ctx.body.includes('Men√∫') && !ctx.body.includes('Menu') ) {
            return gotoFlow(TSPIncorrecto1)
        }}) 

/////////////////////////////////////////////////////////////////////////////////////////////////////////////

const TSPflujoCuatro = addKeyword('4')
.addAnswer(
    [
    '*PROMOCIONES Y OFERTAS DE LA SEMANA*',
    '',
    'Est√°s son las ü•≥ *Promociones y Ofertas de la Semana* üéä',
    '_Accede al siguiente enlace_: üëáüèº',
    '',
    'üéÅ https://bit.ly/RemateDeLaSemana',
    '',
    '',
    '*m√°s opciones...*',
    '',
    'Env√≠a *"Comprar"* para *Conversar con un Asesor de Ventas* y aprovechar nuestros Productos en Promoci√≥n. üë®üèª‚Äçüíªüë©üèª‚Äçüíª',
    '',
    'Env√≠a *"Men√∫"* para ‚è™ *Volver al Men√∫ Principal*.'], {media:'https://topsecurityperu.com/wp-content/uploads/2023/04/Promociones-de-la-semana.jpg',capture:true}, (ctx, {gotoFlow,fallBack}) => {
        
        if(ctx.body.includes('Comprar')) {
                
            return gotoFlow(TSPflujoComprar)
            
        }
    
        if(ctx.body.includes(['Menu','Men√∫'])) {
            
            return gotoFlow(TSPflujoBot)
            
        }
    
        if(!ctx.body.includes('Comprar') && !ctx.body.includes('Men√∫') && !ctx.body.includes('Menu') ) {
            
            return gotoFlow(TSPIncorrecto1)
        
        }
    
    }) 
    
/////////////////////////////////////////////////////////////////////////////////////////////////////////////

const TSPflujoTres = addKeyword('3')
.addAnswer(
    [
    '*RELOJES DE CONTROL DE ASISTENCIA y ACCESO*',
    '',
    'Para conocer el Catalogo de *Relojes Biom√©tricos para el Control de Acceso y Asistencia*, accede al siguiente enlace: üëáüèº',
    '',
    'üìü https://bit.ly/AccesoyAsistencia',
    '',
    '',
    '*m√°s opciones...*',
    '',
    'Env√≠a *"Comprar"* para *Conversar con un Asesor de Ventas* y adquirir uno de nuestros Biom√©tricos. üë®üèª‚Äçüíªüë©üèª‚Äçüíª',
    '',
    'Env√≠a *"Men√∫"* para ‚è™ *Volver al Men√∫ Principal*.'], {media:'https://topsecurityperu.com/wp-content/uploads/2023/04/Biometricos-MailRelay.png',capture:true}, (ctx, {gotoFlow,fallBack}) => {
        
        if(ctx.body.includes('Comprar')) {
            
            return gotoFlow(TSPflujoComprar)
            
        }
    
        if(ctx.body.includes(['Menu','Men√∫'])) {
            
            return gotoFlow(TSPflujoBot)
            
        }
    
        if(!ctx.body.includes('Comprar') && !ctx.body.includes('Men√∫') && !ctx.body.includes('Menu') ) {
            
            return gotoFlow(TSPIncorrecto1)
        
        }
    
    })

/////////////////////////////////////////////////////////////////////////////////////////////////////////////

const TSPflujoDos = addKeyword('2')
.addAnswer(
    [
    '*C√ÅMARAS IP WIFI*',
    '',
    'Para conocer el Catalogo de nuestras *C√°maras IP WiFi*, accede al siguiente enlace: üëáüèº',
    '',
    'üõú https://bit.ly/CamarasIPWifi',
    '',
    '',
    '*m√°s opciones...*',
    '',
    'Env√≠a *"Comprar"* para *Conversar con un Asesor de Ventas* y adquirir uno de nuestras C√°maras Inal√°mbricas. üë®üèª‚Äçüíªüë©üèª‚Äçüíª',
    '',
    'Env√≠a *"Men√∫"* para ‚è™ *Volver al Men√∫ Principal*.'], {media:'https://topsecurityperu.com/wp-content/uploads/2023/04/Camaras-IP-WiFiMailRelay-scaled.jpg',capture:true}, (ctx, {gotoFlow,fallBack}) => {
        
        if(ctx.body.includes('Comprar')) {
            
            return gotoFlow(TSPflujoComprar)
            
        }

        if(ctx.body.includes(['Menu','Men√∫'])) {
            
            return gotoFlow(TSPflujoBot)
            
        }

        if(!ctx.body.includes('Comprar') && !ctx.body.includes('Men√∫') && !ctx.body.includes('Menu') ) {
            
            return gotoFlow(TSPIncorrecto1)
        
        }
    
    }) 

/////////////////////////////////////////////////////////////////////////////////////////////////////////////

const TSPflujoUno = addKeyword('1')
.addAnswer(
    [
    '*KITS DE C√ÅMARAS DE SEGURIDAD*',
    '',
    'Para conocer el Catalogo de nuestros *Kits de C√°maras de Seguridad*, accede al siguiente enlace: üëáüèº',
    '',
    'üé¶ https://bit.ly/KITSCamarasDeSeguridad',
    '',
    '',
    '*m√°s opciones...*',
    '',
    'Env√≠a *"Comprar"* para *Conversar con un Asesor de Ventas* y adquirir uno de nuestros Kits. üë®üèª‚Äçüíªüë©üèª‚Äçüíª',
    '',
    'Env√≠a *"Men√∫"* para ‚è™ *Volver al Men√∫ Principal*.'], {media:'https://topsecurityperu.com/wp-content/uploads/2023/04/Kits-de-Camaras-MailRelay-scaled.jpg',capture:true}, (ctx, {gotoFlow,fallBack}) => {
        
        if(ctx.body.includes('Comprar')) {
            
            return gotoFlow(TSPflujoComprar)
            
        }

        if(ctx.body.includes(['Menu','Men√∫'])) {
            
            return gotoFlow(TSPflujoBot)
            
        }

        if(!ctx.body.includes('Comprar') && !ctx.body.includes('Men√∫') && !ctx.body.includes('Menu') ) {
            
            return gotoFlow(TSPIncorrecto1)
        
        }
    
    }) 

/////////////////////////////////////////////////////////////////////////////////////////////////////////////

const TSPflujoBot = addKeyword(['Chatbot','Men√∫','Menu'])
.addAnswer(

        ['Com√©ntame, ¬øQu√© quieres hacer?...',
        '',
        'üëáüèº _(Sigue las Instrucciones)_ üëáüèº',
        '_Env√≠a el n√∫mero de la opci√≥n que deseas revisar._',
        '',
        '1Ô∏è‚É£ para informaci√≥n sobre nuestros *Kits de C√°maras de Seguridad*. üé¶',
        '',
        '2Ô∏è‚É£ para informaci√≥n sobre las *C√°maras IP WiFi.* üõú',
        '',
        '3Ô∏è‚É£ para informaci√≥n sobre los *Relojes Biom√©tricos para Control de Acceso y Asistencia*. üìü',
        '',
        '4Ô∏è‚É£ para conocer las *Promociones y Ofertas de la Semana*. üéÅ',
        '',
        '5Ô∏è‚É£ para informaci√≥n de *Contacto y Cuentas Bancarias*. ‚òéÔ∏è',
        '',
        '6Ô∏è‚É£ para apagar el Bot y *Conversar con un Representante*. üì¥'], {delay:2000,capture:true}, (ctx,{gotoFlow}) => {{console.log('TSP ',ctx.pushName,':',ctx.from)}

            if(!ctx.body.includes('1') && !ctx.body.includes('2') && !ctx.body.includes('3') && !ctx.body.includes('4') && !ctx.body.includes('5') && !ctx.body.includes('6')) {
                    
                return gotoFlow(TSPIncorrecto0)
            }
        
            },     
                
            [TSPflujoUno,TSPflujoDos,TSPflujoTres,TSPflujoCuatro,TSPflujoCinco,TSPflujoSeis])

/////////////////////////////////////////////////////////////////////////////////////////////////////////////

const TSPflujoComprar = addKeyword('Comprar')
        .addAnswer(
            [
            'üì¥ Has apagado el *Bot*.',
            '',
            'üïú *Horario de Atenci√≥n al Cliente*:',
                '',
                '*Lun. a Vie.*: 10:00am - 7:00pm',
                '*Sab.*: 10:00am - 3:00pm.',
                '*Dom.*: No Laborables.',
            '',
            'Si est√°s en Horario de Atenci√≥n, en breve ser√°s atendido por un *Representante de Ventas* para guiarte en tu compra. Mientras tanto por favor ind√≠canos tu *Nombre* y tu *Correo Electr√≥nico*.',
            '',
            'Si deseas *‚úÖ volver a activar el Chatbot*, env√≠a la palabra *"Chatbot"*.'],
        
            {delay:3000},
                    
            [TSPflujoBot]
                
            )

/////////////////////////////////////////////////////////////////////////////////////////////////////////////

const TSPIncorrecto0 = addKeyword('')
        .addAnswer(
                
        [
        '‚ö†Ô∏è _*ERROR en tu respuesta!*_ ',
        'Debes enviar una opci√≥n v√°lida.',
        '',
        'üëáüèº _*(Sigue las Instrucciones)*_ üëáüèº',
        '_Env√≠a el *n√∫mero* de la opci√≥n que deseas tomar._',
        '',
        '1Ô∏è‚É£ para informaci√≥n sobre nuestros *Kits de C√°maras de Seguridad*. üé¶',
        '',
        '2Ô∏è‚É£ para informaci√≥n sobre las *C√°maras IP WiFi.* üõú',
        '',
        '3Ô∏è‚É£ para informaci√≥n sobre los *Relojes Biom√©tricos para Control de Acceso y Asistencia*. üìü',
        '',
        '4Ô∏è‚É£ para conocer las *Promociones y Ofertas de la Semana*. üéÅ',
        '',
        '5Ô∏è‚É£ para informaci√≥n de *Contacto y Cuentas Bancarias*. ‚òéÔ∏è',
        '',
        '6Ô∏è‚É£ para apagar el Bot y *Conversar con un Representante*. üì¥'], {delay:2000,capture:true}, (ctx, {fallBack}) => {
                        
            if (!ctx.body.includes('1') && !ctx.body.includes('2') && !ctx.body.includes('3') && !ctx.body.includes('4') && !ctx.body.includes('5') && !ctx.body.includes('6')) {
                    
                return fallBack()
                
            }},
            
            [TSPflujoUno,TSPflujoDos,TSPflujoTres,TSPflujoCuatro,TSPflujoCinco,TSPflujoSeis])

/////////////////////////////////////////////////////////////////////////////////////////////////////////////

const TSPIncorrecto1 = addKeyword('')
        .addAnswer(
                
        [
        '‚ö†Ô∏è _*ERROR en tu respuesta!*_ ',
        'Debes enviar una opci√≥n v√°lida.',
        '',
        'üëáüèº _*(Sigue las Instrucciones)*_ üëáüèº',
        '',
        'Env√≠a *"Comprar"* para *Conversar con el equipo de Ventas* y adquirir uno de nuestros Kits. üë®üèª‚Äçüíªüë©üèª‚Äçüíª',
        '',
        'Env√≠a *"Men√∫"* para ‚è™ *Volver al Men√∫ Principal*.'], {delay:2000,capture:true}, (ctx, {gotoFlow,fallBack}) => {

        if(!ctx.body.includes('Comprar') && !ctx.body.includes('Men√∫') && !ctx.body.includes('Menu') ) {
            
            return fallBack()
        
        }
    
    },
        
        [TSPflujoComprar,TSPflujoBot])

/////////////////////////////////////////////////////////////////////////////////////////////////////////////

const TSPflujoZKLX14 = addKeyword('Reloj Biometrico ZK-LX14')
.addAnswer(
    [
        'üëÜüèº *HUELLERO PARA CONTROL DE ASISTENCIA ZK-LX14* üìü',
        '',
        'ü™ô *PRECIO:* S/.238 (ENV√çO GRATIS A NIVEL NACIONAL üöö)',
        '',
        'üïò El *ZK-LX14* es un dispositivo biom√©trico para la gesti√≥n de tiempo y asistencia de empleados con funci√≥n SSR integrada, lo que lo hace ideal para peque√±as empresas. La informaci√≥n de los empleados puede redactarse en formato de Excel. Interfaz de comunicaci√≥n por medio de puerto USB. El ZK-LX14 posee un elegante dise√±o y una pantalla TFT de 2.8 pulgadas donde es posible visualizar la imagen de la huella y el resultado de la verificaci√≥n, entre otros.',
        '',
        '*CARACTER√çSTICAS*',
        '‚úÖ Marca: ZKTeco',
        '‚úÖ Modelo: ZK-LX14',
        '‚úÖ Tipo: Control de Asistencia del Personal',
        '‚úÖ Capacidad de usuarios: 500',
        '‚úÖ Capacidad de Huella Digital: 500',
        '‚úÖ Capacidad de registros: 50,000',
        '‚úÖ Pantalla TFT de 2.8 pulgadas',
        '‚úÖ Comunicaci√≥n : USB (host y cliente)',
        '‚úÖ Funciones Standar: Timbre programado, grabadora SSR, entrada T9, 9 ID de usuario digital, comprobaci√≥n de registros, idiomas m√∫ltiples.',
        '',
        '*INCLUYE*',
        '‚úÖ Soporte para fijar en la pared.',
        '‚úÖ Tarugos y Tornillos para montaje en la pared.',
        '‚úÖ Fuente de Poder 5V/2Amp',
        '‚úÖ Cable USB',
        '‚úÖ Certificado de Marca',
        '‚úÖ Software',
        '‚úÖ Capacitaci√≥n Online',
        '‚úÖ Soporte Remoto por 1 A√±o',
        '‚úÖ Garant√≠a por 1 A√±o',
        '‚úÖ ENV√çO GRATIS A NIVEL NACIONAL üöö',
        '',
        'üí≥ Aceptamos Pagos por tarjetas, transferencias, efectivo, yape, etc.',
        'üöö Env√≠os a todo el Per√∫, en la agencia de su preferencia.',
        'üõµ Delivery a todo Lima.',
        '',
        'Encu√©ntranos en nuestra tienda f√≠sica üëáüèº',
        'üìç Av. Inca Garcilaso de la Vega (Wilson) Tienda N¬∞148 Nivel 2B Lima ‚Äì Per√∫ (Centro Comercial Cyber Plaza).',
        '',
        '',
        '*m√°s opciones...*',
        '',
        'Env√≠a *"Comprar"* para *Conversar con un Asesor de Ventas* y adquirir el Control de Asistecia ZK-LX14. üë®üèª‚Äçüíªüë©üèª‚Äçüíª',
        '',
        'Env√≠a *"Men√∫"* para ‚è™ *Volver al Men√∫ Principal*.'],
        
        {media:'https://topsecurityperu.com/wp-content/uploads/2023/04/LX14.jpg',capture:true},
        (ctx, {gotoFlow}) => {
    
            if(!ctx.body.includes('Comprar') && !ctx.body.includes('Men√∫') && !ctx.body.includes('Menu') ) {
                return gotoFlow(TSPIncorrecto1)
            }},    
    
        [TSPflujoComprar,TSPflujoBot])

/////////////////////////////////////////////////////////////////////////////////////////////////////////////

const TSPflujoKitVOXplus = addKeyword('KIT de Amplificador de Audio para DVR/NVR marca VOXplus')
.addAnswer(
    [
        'üó£ *KIT de Amplificador de Audio para DVR/NVR marca VOXplus* üîä',
        '',
        '*PRECIO:* S/.155 (ENV√çO GRATIS A NIVEL NACIONAL üöö)',
        '',
        'üîä *VOXplus* es un complemento para tu sistema de c√°maras de seguridad, este dispositivo permite amplificar las se√±ales de audio y entregar una potencia necesaria para parlantes o meg√°fonos, por lo que una vez instalado puedes hablar desde tu celular y tu voz saldr√° amplificada por la Bocina de 30Watts. Este dispositivo soporta una bocina de hasta 90Watts y lo puedes instalar en tu DVR, XVR o NVR de cualquier marca.',
        '',
        '*CARACTER√çSTICAS:*',
        '‚úÖ Marca: VOXplus',
        '‚úÖ Modelo: VOXplus‚Äì100',
        '‚úÖ Tipo: Amplificador de audio profesional',
        '‚úÖ Canales: 1, 1',
        '‚úÖ Temperatura de funcionamiento: Temperatura ambiente',
        '‚úÖ Voltaje de funcionamiento: 12-24 VDC',
        '',
        '*EL KIT INCLUYE:*',
        '‚úÖ 1 Amplificador VOXplus',
        '‚úÖ 1 Bocina de 30Watts de Potencia',
        '‚úÖ 1 Fuente 12V/2Amp',
        '‚úÖ 1 Cable de Audio RCA',
        '‚úÖ Diagrama de Instalaci√≥n',
        '‚úÖ ENV√çO GRATIS A NIVEL NACIONAL üöö',
        '',
        'üí∞ PREGUNTA POR EL PRECIO ESPECIAL PARA DISTRIBUIDORESü´∞üèº',
        '',
        'üí≥ Aceptamos Pagos por tarjetas, transferencias, efectivo, yape, etc.',
        'üöö Env√≠os a todo el Per√∫, en la agencia de su preferencia.',
        'üõµ Delivery a todo Lima.',
        '',
        'Encu√©ntranos en nuestra tienda f√≠sica üëáüèº',
        'üìç Av. Inca Garcilaso de la Vega (Wilson) Tienda N¬∞148 Nivel 2B Lima ‚Äì Per√∫ (Centro Comercial Cyber Plaza).',
        '',
        '',
        '*m√°s opciones...*',
        '',
        'Env√≠a *"Comprar"* para *Conversar con un Asesor de Ventas* y adquirir el Kit Amplificador VOXplus. üë®üèª‚Äçüíªüë©üèª‚Äçüíª',
        '',
        'Env√≠a *"Men√∫"* para ‚è™ *Volver al Men√∫ Principal*.'],
        
        {media:'https://topsecurityperu.com/wp-content/uploads/2023/04/Kit-VOXplus.jpg',capture:true},
        
        (ctx, {gotoFlow}) => {
    
            if(!ctx.body.includes('Comprar') && !ctx.body.includes('Men√∫') && !ctx.body.includes('Menu') ) {
                return gotoFlow(TSPIncorrecto1)
            }},    

        [TSPflujoComprar,TSPflujoBot])

/////////////////////////////////////////////////////////////////////////////////////////////////////////////

const TSPflujoKitSafeMax100 = addKeyword('Kit de Alarma Vecinal *SafeMax-100*')
.addAnswer(
    [
        'üö® *KIT de Alarma Vecinal SafeMax-100* üîä',
        '',
        '*PRECIO:* S/.205',
        '',
        'üö® El *Kit de Alarma Vecinal SafeMax-100*, es un sistema de alerta para hogares y comunidades. La alarma puede ser accionada presionando el bot√≥n de p√°nico, pero especialmente est√° dise√±ada para ser accionada a distancia con el celular desde cualquier lugar en el que te encuentres.',
        '',
        '*CARACTER√çSTICAS*',
        '‚úÖ Marca: SafeMax',
        '‚úÖ Modelo: SafeMax-100',
        '‚úÖ Tipo: Alarma Vecinal/Residencial',
        '‚úÖ Temperatura de funcionamiento: Temperatura ambiente',
        '‚úÖ Voltaje de funcionamiento: 12v/2Amp.',
        '',
        '*EL KIT INCLUYE:*',
        '‚úÖ 1 Alarma/Sirena 120dB Doble Sonido.',
        '‚úÖ 1 Pulsador de Emergencia WiFi.',
        '‚úÖ 1 Fuente 12V/2Amp',
        '‚úÖ Manual de Instalaci√≥n',
        '‚úÖ Asesoramiento y Soporte Gratis.',
        '',
        'üí∞ *PREGUNTA POR EL PRECIO ESPECIAL PARA DISTRIBUIDORES* ü´∞üèº',
        '',
        'üí≥ Aceptamos Pagos por tarjetas, transferencias, efectivo, yape, etc.',
        'üöö Env√≠os a todo el Per√∫, en la agencia de su preferencia.',
        'üõµ Delivery a todo Lima.',
        '',
        'Encu√©ntranos en nuestra tienda f√≠sica üëáüèº',
        'üìç Av. Inca Garcilaso de la Vega (Wilson) Tienda N¬∞148 Nivel 2B Lima ‚Äì Per√∫ (Centro Comercial Cyber Plaza).',
        '',
        '',
        '*m√°s opciones...*',
        '',
        'Env√≠a *"Comprar"* para *Conversar con un Asesor de Ventas* y adquirir el kit de Alarma Vecinal SafeMax-100. üë®üèª‚Äçüíªüë©üèª‚Äçüíª',
        '',
        'Env√≠a *"Men√∫"* para ‚è™ *Volver al Men√∫ Principal*.'],
        
        {media:'https://topsecurityperu.com/wp-content/uploads/2023/05/SafeMax-100-2.jpg',capture:true},
        
        (ctx, {gotoFlow}) => {
    
            if(!ctx.body.includes('Comprar') && !ctx.body.includes('Men√∫') && !ctx.body.includes('Menu') ) {
                return gotoFlow(TSPIncorrecto1)
            }},    

        [TSPflujoComprar,TSPflujoBot])

/////////////////////////////////////////////////////////////////////////////////////////////////////////////

const TSPflujoKitSafeMax200 = addKeyword('Kit de Alarma Vecinal SafeMax-200')
.addAnswer(
    [
        'üö® *KIT de Alarma Vecinal SafeMax-200* üîä',
        '',
        '*PRECIO:* S/.350)',
        '',
        'üö® El Kit de Alarma Vecinal *SafeMax-200*, es un sistema de alerta para hogares y comunidades. La alarma puede ser accionada presionando el bot√≥n de p√°nico, pero especialmente est√° dise√±ada para ser accionada a distancia a trav√©s de su control remoto de larga distancia o con el celular desde cualquier lugar en el que te encuentres.',
        '',
        '*CARACTER√çSTICAS*',
        '‚úÖ Marca: SafeMax',
        '‚úÖ Modelo: SafeMax-200',
        '‚úÖ Tipo: Alarma Vecinal/Residencial',
        '‚úÖ Temperatura de funcionamiento: Temperatura ambiente',
        '‚úÖ Voltaje de funcionamiento: 12v/2Amp.',
        '',
        '*EL KIT INCLUYE:*',
        '‚úÖ 1 Alarma/Sirena 120dB Doble Sonido.',
        '‚úÖ 1 Pulsador de Emergencia WiFi.',
        '‚úÖ 1 Fuente 12V/2Amp',
        '‚úÖ 1 Luz Estrobo (Rojo, √Åmbar o Az√∫l)',
        '‚úÖ 1 Control RF',
        '',
        'üí∞ PREGUNTA POR EL PRECIO ESPECIAL PARA DISTRIBUIDORES ü´∞üèº',
        '',
        'üí≥ Aceptamos Pagos por tarjetas, transferencias, efectivo, yape, etc.',
        'üöö Env√≠os a todo el Per√∫, en la agencia de su preferencia.',
        'üõµ Delivery a todo Lima.',
        '',
        'Encu√©ntranos en nuestra tienda f√≠sica üëáüèº',
        'üìç Av. Inca Garcilaso de la Vega (Wilson) Tienda N¬∞148 Nivel 2B Lima ‚Äì Per√∫ (Centro Comercial Cyber Plaza).',
        '',
        '',
        '*m√°s opciones...*',
        '',
        'Env√≠a *"Comprar"* para *Conversar con un Asesor de Ventas* y adquirir el kit de Alarma Vecinal SafeMax-200. üë®üèª‚Äçüíªüë©üèª‚Äçüíª',
        '',
        'Env√≠a *"Men√∫"* para ‚è™ *Volver al Men√∫ Principal*.'],
        
        {media:'https://topsecurityperu.com/wp-content/uploads/2023/05/SafeMax-200-2.jpg',capture:true},
        
        (ctx, {gotoFlow}) => {
    
            if(!ctx.body.includes('Comprar') && !ctx.body.includes('Men√∫') && !ctx.body.includes('Menu') ) {
                return gotoFlow(TSPIncorrecto1)
            }},    

        [TSPflujoComprar,TSPflujoBot])

/////////////////////////////////////////////////////////////////////////////////////////////////////////////

const mainTopSecurityPeru = async () => {
    
    const botName = 'TopSecurityPeru'
    const adapterDB = new MockAdapter()
    const adapterFlow = createFlow([TSPflujoBot,TSPflujoKitSafeMax100,TSPflujoKitSafeMax200,TSPflujoKitVOXplus,TSPflujoZKLX14])
    const adapterProvider = createProvider(BaileysProvider, {name: botName})

    createBot({
        flow: adapterFlow,
        provider: adapterProvider,
        database: adapterDB,
    }
    ,{
        blackList:['+51902700078','+51938473492','+51963601795','+51983237296','+51983237','+51902700078','+51981490775','+51965422465','+51954145889', '+51933018584', '+51981267395', '+51936774865', '+51933017656', '+51946085078', '+51994119158', '+51954145889', '+51932545698', '+51932270219', '+584122222963', '+51959364956', '+51989007493', '+51910428132', '+51998337165', '+51947112660', '+51923218297', '+51989007458', '+51922219802', '+51972245738']
    })

    QRPortalWeb({name:botName, port:8080})
}

mainTopSecurityPeru()